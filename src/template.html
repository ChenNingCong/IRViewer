<!DOCTYPE html>
<html>
<meta charset="UTF-8">

<body>
  <style>
    #tooltip {
      background: #fff8dc;
      border: 1px solid black;
      border-radius: 2px;
      white-space: nowrap;
      padding: 1px;
    }
    g .node polygon {
      cursor: pointer;
    }
  </style>
  <div id="tooltip" style="position: absolute; display: none;"></div>
  TEMPLATE
  <script src="zoom.js"></script>
  <script type="text/javascript">

  window.addEventListener('load', (event) => {
      titles = document.getElementsByTagName("title")
      while (titles.length > 0) {
        titles[0].parentElement.removeChild(titles[0])
      }
      return
    })
    function showTooltip(evt) {
      let tooltip = document.getElementById("tooltip");
      var node = evt.originalTarget;
      while (node.tagName != "text") {
        node = node.parentElement;
      }
      if (node.hasAttribute("data-msg")) {
        tooltip.innerHTML = node.getAttribute("data-msg");
        //console.log(node.getAttribute("data-msg"))
        tooltip.style.display = "block";
        tooltip.style.left = evt.pageX + 10 + 'px';
        tooltip.style.top = evt.pageY + 10 + 'px';
      }
    }

    function hideTooltip() {
      var tooltip = document.getElementById("tooltip");
      tooltip.style.display = "none";
    }
    function click(){
      var bbox = this.getBBox()
      zoom.to({"x":bbox.x,"y":bbox.y,"width":bbox.width,"height":bbox.height})
      //this.scrollIntoView({ "block": "center", "behavior": "smooth", "inline": "center" })
    }
    g = document.querySelectorAll("g[class=node] polygon")
    for (i = 0; i < g.length; i++) {
      g[i].onclick = click
    }
  </script>
  
</body>

</html>